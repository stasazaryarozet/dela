# Быстрый старт: Instagram @olga.rozet

**Аккаунт:** @olga.rozet (8,419 подписчиков)  
**Цель:** Максимальная интеграция для продаж консультаций

---

## Шаг 1: Проверить тип аккаунта (1 минута)

**В приложении Instagram:**

1. Профиль → Меню (☰) → **Настройки**
2. **Аккаунт** → Прокрутить вниз
3. Проверить:
   - Если видно **"Переключиться на профессиональный аккаунт"** → это Personal (нужно переключить)
   - Если видно **"Переключиться на личный аккаунт"** → уже Business/Creator ✅

---

## Шаг 2а: Если НЕ Business — переключить (5 минут)

**В приложении Instagram:**

1. Настройки → Аккаунт → **"Переключиться на профессиональный аккаунт"**
2. Выбрать категорию: **"Дизайн интерьера"** или **"Художник"**
3. Выбрать тип: **"Бизнес"**
4. Привязать Facebook Page:
   - Если уже есть → выбрать
   - Если нет → создать (Instagram предложит)

---

## Шаг 2б: Если уже Business — проверить Facebook Page

**Важно:** Для API нужна связанная Facebook Page.

1. Instagram → Настройки → **"Аккаунт"**
2. **"Страница"** → Проверить, что Facebook Page привязана
3. Если нет → привязать существующую или создать новую

---

## Шаг 3: Создать приложение в Meta for Developers (10 минут)

**На компьютере:**

1. Перейти на https://developers.facebook.com/apps/create/
2. **Войти** от аккаунта, связанного с Facebook Page Ольги
3. Нажать **"Create App"**
4. Выбрать тип: **"Business"**
5. Указать:
   - **App name:** "Дела - Ольга Розет"
   - **App contact email:** o.g.rozet@gmail.com
6. Нажать **"Create App"**

---

## Шаг 4: Добавить Instagram Graph API (2 минуты)

1. В Dashboard приложения → **"Add Product"**
2. Найти **"Instagram Graph API"** (НЕ "Instagram Basic Display")
3. Нажать **"Set Up"**

---

## Шаг 5: Получить Access Token (5 минут)

### Через Graph API Explorer:

1. Перейти на https://developers.facebook.com/tools/explorer/
2. В dropdown **"Meta App"** выбрать созданное приложение ("Дела - Ольга Розет")
3. В **"Permissions"** нажать **"Add a Permission"** и добавить:
   - ✅ `instagram_basic`
   - ✅ `instagram_content_publish`
   - ✅ `pages_read_engagement`
   - ✅ `pages_show_list`
4. Нажать **"Generate Access Token"**
5. В окне авторизации:
   - Войти от аккаунта Ольги
   - Разрешить все запрошенные права
6. **Скопировать** полученный токен

---

## Шаг 6: Получить Instagram Business Account ID (3 минуты)

**В том же Graph API Explorer:**

1. В поле запроса ввести: `me/accounts`
2. Нажать **"Submit"**
3. В ответе найти `"id"` вашей Facebook Page → **Скопировать**
4. В поле запроса ввести: `PAGE_ID?fields=instagram_business_account`
   (заменить `PAGE_ID` на скопированный ID)
5. Нажать **"Submit"**
6. В ответе найти `"instagram_business_account": {"id": "..."}` → **Скопировать** этот ID

---

## Шаг 7: Создать credentials.json (1 минута)

**На компьютере:**

Создать файл:

```bash
nano "/Users/azaryarozet/Library/Mobile Documents/com~apple~CloudDocs/Дела/.gates/meta/credentials.json"
```

Вставить (заменив на ваши значения):

```json
{
  "access_token": "YOUR_ACCESS_TOKEN_FROM_STEP_5",
  "instagram_account_id": "YOUR_INSTAGRAM_BUSINESS_ACCOUNT_ID_FROM_STEP_6"
}
```

Сохранить: `Ctrl+O` → `Enter` → `Ctrl+X`

---

## Шаг 8: Тест (1 минута)

```bash
cd "/Users/azaryarozet/Library/Mobile Documents/com~apple~CloudDocs/Дела"
python3 .gates/meta_gate.py
```

**Ожидаемый результат:**

```
✓ Авторизован: Olga Rozet (ID: ...)
✓ Получено постов: 5

Последний пост:
  Caption: ...
  Likes: ...
  Comments: ...

✓ Экспортировано:
  Постов: 10
  Комментариев: ...
```

---

## ✅ Готово!

**Теперь можно:**

1. **Публиковать посты:**
   ```python
   from meta_gate import MetaGate
   gate = MetaGate()
   gate.create_instagram_post(
       image_url='https://example.com/image.jpg',
       caption='Текст поста'
   )
   ```

2. **Анализировать метрики:**
   ```bash
   cd Ольга
   python3 sell_consultations.py --analyze
   ```

3. **Получать списки для DM:**
   ```bash
   python3 sell_consultations.py --dm-engaged
   ```

---

## Важно: Long-Lived Token (опционально, после теста)

По умолчанию токен живет **1 час**. Для продления до **60 дней**:

1. В Dashboard приложения → **Settings** → **Basic**
2. Скопировать **App ID** и **App Secret**
3. Выполнить запрос (заменить значения):

```
https://graph.facebook.com/v18.0/oauth/access_token?
  grant_type=fb_exchange_token&
  client_id=YOUR_APP_ID&
  client_secret=YOUR_APP_SECRET&
  fb_exchange_token=YOUR_SHORT_LIVED_TOKEN
```

4. Полученный токен заменить в `credentials.json`

---

**Время на всё:** ~30 минут

**Результат:** Максимальная интеграция с Instagram @olga.rozet
